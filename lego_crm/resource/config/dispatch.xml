<?xml version="1.0" encoding="utf-8"?>
<config>
        <dispatch>
                <servlet>
                        <!-- 名称: 添加联系人 -->
                        <servletName>addContact</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查企业的uuid是否存在 -->
                                select,selectEnterpriseInformation:enterprise_uuid->uuid;
                                <!-- 添加数据 -->
                                insert,insertContact:uuid,name,enterprise_uuid,position,contact_information_list,remark
                        </namespace>
                        <permission>crm_addContact</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#uuid</constant>
                                </parameter>
                                <parameter>
                                        <!-- 姓名（2-16个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa]{2,16}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 所属企业的uuid -->
                                        <name>enterprise_uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 职位（2-16个数字、大小写字母、汉字） -->
                                        <name>position</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,16}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 联系方式集合（格式为：名称:号码;比如：手机:13177777777;座机:8626363;QQ:396060520;） -->
                                        <name>contact_information_list</name>
                                        <type>string</type>
                                        <format>^([\u4e00-\u9fffa0-9a-zA-Z]{2,10}:.{4,32};)+$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 备注（2-128个汉字、字符或数字） -->
                                        <name>remark</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,128}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 删除联系人 -->
                        <servletName>removeContact</servletName>
                        <sdboType>delete</sdboType>
                        <namespace>deleteContact</namespace>
                        <permission>crm_removeContact</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 修改联系人 -->
                        <servletName>modifyContact</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查企业的uuid是否存在 -->
                                select,selectEnterpriseInformation:enterprise_uuid->uuid;
                                <!-- 修改数据 -->
                                update,updateContact:uuid,name,enterprise_uuid,position,contact_information_list,remark
                        </namespace>
                        <permission>crm_modifyContact</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 姓名（2-16个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa]{2,16}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 所属企业的uuid -->
                                        <name>enterprise_uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 职位（2-16个数字、大小写字母、汉字） -->
                                        <name>position</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,16}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 联系方式集合（格式为：名称:号码;比如：手机:13177777777;座机:8626363;QQ:396060520;） -->
                                        <name>contact_information_list</name>
                                        <type>string</type>
                                        <format>^([\u4e00-\u9fffa0-9a-zA-Z]{2,10}:.{4,32};)+$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 备注（2-128个汉字、字符或数字） -->
                                        <name>remark</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,128}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 获取联系人 -->
                        <servletName>getContact</servletName>
                        <sdboType>select</sdboType>
                        <namespace>selectContact</namespace>
                        <permission>crm_getContact</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 姓名（2-16个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa]{2,16}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 姓名（模糊搜索）（1-16个汉字） -->
                                        <name>name_fuzzy</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa]{1,16}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 所属企业的uuid -->
                                        <name>enterprise_uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 是否返回count计数（用于分页统计）（1:返回count计数） -->
                                        <name>data_count</name>
                                        <type>integer</type>
                                        <format>^1$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 偏移（大于等于0的数字） -->
                                        <name>offset</name>
                                        <type>integer</type>
                                        <format>^[0-9]+$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 行数（大于等于1的数字） -->
                                        <name>rows</name>
                                        <type>integer</type>
                                        <format>^[1-9]+[0-9]*$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 检查企业名称是否存在 -->
                        <servletName>checkEnterpriseNameExist</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查企业名称是否重名 -->
                                non-select,selectEnterpriseInformation:name;
                        </namespace>
                        <permission>crm_checkEnterpriseNameExist</permission>
                        <parameters>
                                <parameter>
                                        <!-- 企业名称（8-32个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa（）\(\)]{8,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 添加企业信息 -->
                        <servletName>addEnterpriseInformation</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查企业名称是否重名 -->
                                non-select,selectEnterpriseInformation:name;
                                <!-- 添加数据 -->
                                insert,insertEnterpriseInformation:uuid,type,name,short_name,registered_capital,establish_datetime,description;
                                <!-- 获取数据 -->
                                select,selectEnterpriseInformation:uuid
                        </namespace>
                        <permission>crm_addEnterpriseInformation</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#uuid</constant>
                                </parameter>
                                <parameter>
                                        <!-- 企业类型（1:自运营企业 2:贸易企业 3:物流企业） -->
                                        <name>type</name>
                                        <type>integer</type>
                                        <format>^[123]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业名称（8-32个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa（）\(\)]{8,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业简称（2-32个汉字、字符或数字） -->
                                        <name>short_name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 注册资本（单位：万元）（小数点左边1-10个正数，小数点右边1-10个正数） -->
                                        <name>registered_capital</name>
                                        <type>double</type>
                                        <format>^([0-9]{1,10}+)(\.[0-9]{1,10}+)?$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 成立时间（yyyy-MM-dd HH:mm:ss） -->
                                        <name>establish_datetime</name>
                                        <type>timestamp</type>
                                        <format>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业描述（2-64个汉字、字符或数字） -->
                                        <name>description</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,64}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 删除企业信息 -->
                        <servletName>removeEnterpriseInformation</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 名称: 删除企业下的联系人 -->
                                insist-delete,deleteContact:uuid->enterprise_uuid;
                                <!-- 名称: 删除企业信息 -->
                                delete,deleteEnterpriseInformation:uuid;
                        </namespace>
                        <permission>crm_removeEnterpriseInformation</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 修改企业信息 -->
                        <servletName>modifyEnterpriseInformation</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查除此之外的企业名称是否重名 -->
                                non-select,selectEnterpriseInformation:uuid->ne_uuid,name;
                                <!-- 修改数据 -->
                                update,updateEnterpriseInformation:uuid,type,name,short_name,registered_capital,establish_datetime,description,sn_description
                        </namespace>
                        <permission>crm_modifyEnterpriseInformation</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业类型（1:自运营企业 2:贸易企业 3:物流企业） -->
                                        <name>type</name>
                                        <type>integer</type>
                                        <format>^[123]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业名称（8-32个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa（）\(\)]{8,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业简称（2-32个汉字、字符或数字） -->
                                        <name>short_name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 注册资本（单位：万元）（小数点左边1-10个正数，小数点右边1-10个正数） -->
                                        <name>registered_capital</name>
                                        <type>double</type>
                                        <format>^([0-9]{1,10}+)(\.[0-9]{1,10}+)?$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 成立时间（yyyy-MM-dd HH:mm:ss） -->
                                        <name>establish_datetime</name>
                                        <type>timestamp</type>
                                        <format>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业描述（2-64个汉字、字符或数字） -->
                                        <name>description</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,64}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 类别描述（置空） -->
                                        <name>sn_description</name>
                                        <type>string</type>
                                        <format>^set_null$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 获取企业信息 -->
                        <servletName>getEnterpriseInformation</servletName>
                        <sdboType>select</sdboType>
                        <namespace>selectEnterpriseInformation</namespace>
                        <permission>crm_getEnterpriseInformation</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业类型（1:自运营企业 2:贸易企业 3:物流企业） -->
                                        <name>type</name>
                                        <type>integer</type>
                                        <format>^[123]$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业名称（8-32个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa（）\(\)]{8,32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业简称（2-32个汉字、字符或数字） -->
                                        <name>short_name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 是否返回count计数（用于分页统计）（1:返回count计数） -->
                                        <name>data_count</name>
                                        <type>integer</type>
                                        <format>^1$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 偏移（大于等于0的数字） -->
                                        <name>offset</name>
                                        <type>integer</type>
                                        <format>^[0-9]+$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 行数（大于等于1的数字） -->
                                        <name>rows</name>
                                        <type>integer</type>
                                        <format>^[1-9]+[0-9]*$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 添加企业流水账 -->
                        <servletName>addEnterpriseJournalAccount</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查企业的uuid是否存在 -->
                                select,@lego_crm.selectEnterpriseInformation:enterprise_uuid->uuid;
                                <!-- 添加数据 -->
                                insert,insertEnterpriseJournalAccount:uuid,enterprise_uuid,type,name,description,price,count,record_datetime
                        </namespace>
                        <permission>crm_addEnterpriseJournalAccount</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#uuid</constant>
                                </parameter>
                                <parameter>
                                        <!-- 所属企业的uuid -->
                                        <name>enterprise_uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 类型（1:人员薪资 2:物业租赁 3:交通补助） -->
                                        <name>type</name>
                                        <type>integer</type>
                                        <format>^[123]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 名称（2-32个汉字、字符或数字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 描述（2-64个汉字、字符或数字） -->
                                        <name>description</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,64}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 单价（小数点左边1-10个正数，小数点右边1-10个正数） -->
                                        <name>price</name>
                                        <type>double</type>
                                        <format>^([0-9]{1,10}+)(\.[0-9]{1,10}+)?$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 数量（大于等于1的数字） -->
                                        <name>count</name>
                                        <type>double</type>
                                        <format>^[1-9]+[0-9]*$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 记录时间（yyyy-MM-dd HH:mm:ss） -->
                                        <name>record_datetime</name>
                                        <type>timestamp</type>
                                        <format>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 删除企业流水账 -->
                        <servletName>removeEnterpriseJournalAccount</servletName>
                        <sdboType>delete</sdboType>
                        <namespace>deleteEnterpriseJournalAccount</namespace>
                        <permission>crm_removeEnterpriseJournalAccount</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 修改企业流水账 -->
                        <servletName>modifyEnterpriseJournalAccount</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查企业的uuid是否存在 -->
                                select,@lego_crm.selectEnterpriseInformation:enterprise_uuid->uuid;
                                <!-- 修改数据 -->
                                update,updateEnterpriseJournalAccount:uuid,enterprise_uuid,type,name,description,price,count,record_datetime
                        </namespace>
                        <permission>erp_modifyEnterpriseCostJournalAccount</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 类型（1:人员薪资 2:物业租赁 3:交通补助） -->
                                        <name>type</name>
                                        <type>integer</type>
                                        <format>^[123]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 名称（2-32个汉字、字符或数字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 描述（2-64个汉字、字符或数字） -->
                                        <name>description</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,64}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 描述（置空） -->
                                        <name>sn_description</name>
                                        <type>string</type>
                                        <format>^set_null$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 单价（小数点左边1-10个正数，小数点右边1-10个正数） -->
                                        <name>price</name>
                                        <type>double</type>
                                        <format>^([0-9]{1,10}+)(\.[0-9]{1,10}+)?$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 数量（大于等于1的数字） -->
                                        <name>count</name>
                                        <type>double</type>
                                        <format>^[1-9]+[0-9]*$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 记录时间（yyyy-MM-dd HH:mm:ss） -->
                                        <name>record_datetime</name>
                                        <type>timestamp</type>
                                        <format>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 获取企业流水账 -->
                        <servletName>getEnterpriseJournalAccount</servletName>
                        <sdboType>select</sdboType>
                        <namespace>selectEnterpriseJournalAccount</namespace>
                        <permission>crm_getEnterpriseJournalAccount</permission>
                        <parameters>
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 所属企业的uuid -->
                                        <name>enterprise_uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 类型（1:人员薪资 2:物业租赁 3:交通补助） -->
                                        <name>type</name>
                                        <type>integer</type>
                                        <format>^[123]$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 名称（2-32个汉字、字符或数字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 名称（模糊查询）（1-32个汉字、字符或数字） -->
                                        <name>name_fuzzy</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{1,32}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 搜索的开始时间（yyyy-MM-dd HH:mm:ss） -->
                                        <name>start_datetime</name>
                                        <type>timestamp</type>
                                        <format>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 搜索的结束时间（yyyy-MM-dd HH:mm:ss） -->
                                        <name>end_datetime</name>
                                        <type>timestamp</type>
                                        <format>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 偏移（大于等于0的数字） -->
                                        <name>offset</name>
                                        <type>integer</type>
                                        <format>^[0-9]+$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 行数（大于等于1的数字） -->
                                        <name>rows</name>
                                        <type>integer</type>
                                        <format>^[1-9]+[0-9]*$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 添加企业信息 -->
                        <servletName>addEnterpriseAndInvoiceInformation</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查企业名称是否重名 -->
                                non-select,selectEnterpriseInformation:name;
                                <!-- 添加数据 -->
                                insert,insertEnterpriseInformation:enterprise_uuid->uuid,type,name,short_name,registered_capital,establish_datetime,description;
                                <!-- 检查附件的合法性 -->
                                custom,@lego_storage.Custom.t_checkFilesExist:directory_uuid,cluster_list,file_status->status,creator_uuid;
                                <!-- 添加数据 -->
                                insert,@lego_certificate.insertInvoiceInformation:invoice_uuid->uuid,enterprise_uuid->parent_uuid,cluster_list,name->enterprise_name,tax_identification_number,address,telephone_number,bank_name,account,status,creator_uuid;
                                <!-- 保存附件为永久性文件 -->
                                custom,@lego_storage.Custom.t_savePermanentFiles:cluster_list,creator_uuid;
                                <!-- 获取数据 -->
                                select,selectEnterpriseInformation:enterprise_uuid->uuid;
                        </namespace>
                        <permission>crm_addEnterpriseInformation</permission>
                        <parameters>
                                <!-- 企业信息 -->
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>enterprise_uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#uuid</constant>
                                </parameter>
                                <parameter>
                                        <!-- 企业类型（1:自运营企业 2:贸易企业 3:物流企业） -->
                                        <name>type</name>
                                        <type>integer</type>
                                        <format>^[123]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业名称（8-32个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa（）\(\)]{8,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业简称（2-32个汉字、字符或数字） -->
                                        <name>short_name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 注册资本（单位：万元）（小数点左边1-10个正数，小数点右边1-10个正数） -->
                                        <name>registered_capital</name>
                                        <type>double</type>
                                        <format>^([0-9]{1,10}+)(\.[0-9]{1,10}+)?$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 成立时间（yyyy-MM-dd HH:mm:ss） -->
                                        <name>establish_datetime</name>
                                        <type>timestamp</type>
                                        <format>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业描述（2-64个汉字、字符或数字） -->
                                        <name>description</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,64}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <!-- 发票信息 -->
                                <parameter>
                                        <!-- uuid主键 -->
                                        <name>invoice_uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#uuid</constant>
                                </parameter>
                                <parameter>
                                        <!-- 上传目录uuid（附件目录） -->
                                        <name>directory_uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF</constant>
                                </parameter>
                                <parameter>
                                        <!-- 文件集群集合（不带“-”的uuid，且以分号结尾） -->
                                        <name>cluster_list</name>
                                        <type>string</type>
                                        <format>^([0-9a-zA-Z]{32};)+$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 文件状态（1:正常 2:过期） -->
                                        <name>file_status</name>
                                        <type>integer</type>
                                        <format>#constant#</format>
                                        <constant>1</constant>
                                </parameter>
                                <parameter>
                                        <!-- 文件集群创建者的uuid -->
                                        <name>creator_uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#session_user_uuid</constant>
                                </parameter>
                                <parameter>
                                        <!-- 纳税识别号（15-18位数字、字母） -->
                                        <name>tax_identification_number</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{15,18}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 地址（8-100个汉字、字符或数字） -->
                                        <name>address</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{8,100}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 联系电话（6-15个数字） -->
                                        <name>telephone_number</name>
                                        <type>string</type>
                                        <format>^[0-9]{6,15}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 开户银行（8-64个汉字） -->
                                        <name>bank_name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa]{8,64}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 银行账户（10-30个数字） -->
                                        <name>account</name>
                                        <type>string</type>
                                        <format>^[0-9]{10,30}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 状态（0:未审核 1:已审核 2:审核未通过） -->
                                        <name>status</name>
                                        <type>integer</type>
                                        <format>#constant#</format>
                                        <constant>0</constant>
                                </parameter>

                        </parameters>
                </servlet>
                <servlet>
                        <!-- 名称: 修改企业和开票信息 -->
                        <servletName>modifyEnterpriseAndInvoiceInformation</servletName>
                        <sdboType>transaction</sdboType>
                        <namespace>
                                <!-- 检查除此之外的企业名称是否重名 -->
                                non-select,selectEnterpriseInformation:enterprise_uuid->ne_uuid,name;
                                <!-- 修改数据 -->
                                update,updateEnterpriseInformation:enterprise_uuid->uuid,type,name,short_name,registered_capital,establish_datetime,description,sn_description;
                                <!-- 编辑附件 -->
                                custom,@lego_storage.Custom.t_modifyAttachment:idColumnName,idColumnValue,selectNamespace,updateNamespace,clusterListColumnName,newClusterList,directory_uuid,file_status->status;
                                <!-- 修改数据 -->
                                update,@lego_certificate.updateInvoiceInformation:idColumnValue->uuid,enterprise_uuid->parent_uuid,name->enterprise_name,tax_identification_number,address,telephone_number,bank_name,account,status
                        </namespace>
                        <permission>crm_modifyEnterpriseAndInvoiceInformation</permission>
                        <parameters>
                                <parameter>
                                        <!-- 企业的uuid主键 -->
                                        <name>enterprise_uuid</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业类型（1:自运营企业 2:贸易企业 3:物流企业） -->
                                        <name>type</name>
                                        <type>integer</type>
                                        <format>^[123]$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业名称（8-32个汉字） -->
                                        <name>name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa（）\(\)]{8,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业简称（2-32个汉字、字符或数字） -->
                                        <name>short_name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 注册资本（单位：万元）（小数点左边1-10个正数，小数点右边1-10个正数） -->
                                        <name>registered_capital</name>
                                        <type>double</type>
                                        <format>^([0-9]{1,10}+)(\.[0-9]{1,10}+)?$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 成立时间（yyyy-MM-dd HH:mm:ss） -->
                                        <name>establish_datetime</name>
                                        <type>timestamp</type>
                                        <format>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 企业描述（2-64个汉字、字符或数字） -->
                                        <name>description</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{2,64}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 类别描述（置空） -->
                                        <name>sn_description</name>
                                        <type>string</type>
                                        <format>^set_null$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 文件集群所在数据的唯一列名（如：“uuid”） -->
                                        <name>idColumnName</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>uuid</constant>
                                </parameter>
                                <parameter>
                                        <!-- 文件集群所在数据的唯一列值（如：“uuid”对应的数据） -->
                                        <name>idColumnValue</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <isNull>false</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 查询文件集群所在数据的名空间 -->
                                        <name>selectNamespace</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>lego_certificate.selectInvoiceInformation</constant>
                                </parameter>
                                <parameter>
                                        <!-- 更新文件集群所在数据的名空间 -->
                                        <name>updateNamespace</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>lego_certificate.updateInvoiceInformation</constant>
                                </parameter>
                                <parameter>
                                        <!-- 文件集群所在表中的列名（当一个表中存有多个附件的时候，列名会有不同的情况） -->
                                        <name>clusterListColumnName</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>cluster_list</constant>
                                </parameter>
                                <parameter>
                                        <!-- “新”文件集群集合（不带“-”的uuid，且以分号结尾） -->
                                        <name>newClusterList</name>
                                        <type>string</type>
                                        <format>^([0-9a-zA-Z]{32};)+$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- “新”集群文件的目录uuid（附件目录） -->
                                        <name>directory_uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF</constant>
                                </parameter>
                                <parameter>
                                        <!-- 文件状态（1:正常 2:过期） -->
                                        <name>file_status</name>
                                        <type>integer</type>
                                        <format>#constant#</format>
                                        <constant>1</constant>
                                </parameter>
                                <parameter>
                                        <!-- 文件集群创建者的uuid -->
                                        <name>creator_uuid</name>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#session_user_uuid</constant>
                                </parameter>
                                <parameter>
                                        <!-- 纳税识别号（15-18位数字、字母） -->
                                        <name>tax_identification_number</name>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{15,18}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 地址（8-100个汉字、字符或数字） -->
                                        <name>address</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa0-9a-zA-Z]{8,100}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 联系电话（6-15个数字） -->
                                        <name>telephone_number</name>
                                        <type>string</type>
                                        <format>^[0-9]{6,15}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 开户银行（8-64个汉字） -->
                                        <name>bank_name</name>
                                        <type>string</type>
                                        <format>^[\u4e00-\u9fffa]{8,64}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                                <parameter>
                                        <!-- 银行账户（10-30个数字） -->
                                        <name>account</name>
                                        <type>string</type>
                                        <format>^[0-9]{10,30}$</format>
                                        <isNull>true</isNull>
                                </parameter>
                        </parameters>
                </servlet>
        </dispatch>
</config>
